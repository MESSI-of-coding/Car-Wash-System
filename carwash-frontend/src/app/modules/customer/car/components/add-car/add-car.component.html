<form [formGroup]="carForm" (ngSubmit)="onSubmit()"
  class="space-y-6 max-w-md mx-auto p-6 bg-white rounded-xl shadow-md">
  <!-- Car Model Input -->
  <div class="space-y-2">
    <label class="block text-sm font-medium text-gray-700">
      Car Model
      <span class="text-red-500">*</span>
    </label>
    <input formControlName="model" placeholder="e.g., Honda City" class="input input-bordered w-full"
      [ngClass]="{'input-error': carForm.get('model')?.invalid && carForm.get('model')?.touched}" />
    <div *ngIf="carForm.get('model')?.invalid && carForm.get('model')?.touched" class="text-sm text-red-600">
      <p *ngIf="carForm.get('model')?.errors?.['required']">Car model is required</p>
      <p *ngIf="carForm.get('model')?.errors?.['minlength']">Minimum 2 characters required</p>
    </div>
  </div>

  <!-- License Plate Input -->
  <div class="space-y-2">
    <label class="block text-sm font-medium text-gray-700">
      License Plate
      <span class="text-red-500">*</span>
    </label>
    <input formControlName="licensePlate" placeholder="e.g., MH01AB1234" class="input input-bordered w-full uppercase"
      [ngClass]="{'input-error': carForm.get('licensePlate')?.invalid && carForm.get('licensePlate')?.touched}" />
    <div *ngIf="carForm.get('licensePlate')?.invalid && carForm.get('licensePlate')?.touched"
      class="text-sm text-red-600">
      <p *ngIf="carForm.get('licensePlate')?.errors?.['required']">License plate is required</p>
      <p *ngIf="carForm.get('licensePlate')?.errors?.['pattern']">Invalid license plate format</p>
    </div>
  </div>

  <!-- Image Upload -->
  <div class="space-y-2">
    <label class="block text-sm font-medium text-gray-700">
      Car Image
      <span class="text-gray-500 text-sm">(JPEG/PNG, max 5MB)</span>
    </label>
    <div class="flex items-center gap-4">
      <label class="file-input-button btn btn-outline">
        ðŸ“· Choose File
        <input type="file" (change)="onFileChange($event)" accept="image/jpeg, image/png" class="hidden">
      </label>
      <span class="text-sm text-gray-600" *ngIf="!selectedImage">
        No file chosen
      </span>
      <span class="text-sm text-gray-600 truncate" *ngIf="selectedFile">
        {{ selectedFile.name }}
      </span>
    </div>
    <div *ngIf="fileError" class="text-sm text-red-600">
      {{ fileError }}
    </div>

    <!-- Image Preview -->
    <div *ngIf="selectedImage" class="mt-4">
      <p class="text-sm text-gray-600 mb-2">Preview:</p>
      <div class="relative w-48 h-32 border-2 border-dashed border-gray-200 rounded-lg overflow-hidden">
        <img [src]="selectedImage" alt="Car preview" class="w-full h-full object-cover">
        <button type="button" (click)="removeImage()" class="absolute top-1 right-1 btn btn-circle btn-xs btn-error">
          âœ•
        </button>
      </div>
    </div>
  </div>

  <!-- Submit Button -->
  <button type="submit" class="btn btn-primary w-full" [disabled]="carForm.invalid || isSubmitting">
    <span *ngIf="!isSubmitting">ðŸš— Add Car</span>
    <span *ngIf="isSubmitting" class="flex items-center gap-2">
      <span class="loading loading-spinner"></span>
      Adding...
    </span>
  </button>
</form>